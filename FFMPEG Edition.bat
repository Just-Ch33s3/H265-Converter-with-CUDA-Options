:::IMPORTANT
::::Just plain pasted this from an old project to Github, sorry for the lack of explanation on this...
echo off
cls
title FFMPEG WATCHDOG
color 0f
::::::::::::::::::::::::SETTINGS::::::::::::::::::::::::
:: Define FFMPEG Location
SET FFMPEG="C:\Program Files\ffmpeg\bin\ffmpeg"
:: Define Watchfolder Path
SET destQ=C:\Users\chris\Desktop
:: Define Temporary Folder
SET destX=%destQ%\temp
:: Define Converted Folder
SET destY=%destQ%\done
:: Define "Done" Folder for original Files
SET destZ=%destQ%\old
:::::::::::::::::::::CREATE:ARCHIVES::::::::::::::::::::
md %destX%
md %destY%
md %destZ%
::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:start
cls   
echo -                                			 - 
echo /////////////
echo  Active! Waiting for Files...
echo 					/////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls   
echo -                                			 - 
echo 	/////////////
echo  Active! Waiting for Files...
echo 				/////////////
echo -                                			 -                                 
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls
echo -                                			 - 
echo 		 /////////////
echo  Active! Waiting for Files...
echo 			/////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls  
echo -                                			 -        
echo 			  /////////////
echo  Active! Waiting for Files...
echo 		/////////////
echo -                                			 -                                 
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________    
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls    
echo -                                			 - 
echo 				   /////////////
echo  Active! Waiting for Files...
echo   /////////////
echo -                                			 -                                  
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________       
echo                        FFMPEG WATCHDOG_h265
timeout /t 1 >NUL
GOTO MoveToTemp

:startwithselection
cls
timeout /t 1 >NUL
echo           Press 1 to move , 2 to exit
@CHOICE /N /C:12
IF "%ERRORLEVEL%"=="1" GOTO MoveToTemp
IF "%ERRORLEVEL%"=="2" GOTO Exit

:MoveToTemp
ROBOCOPY %destQ% %destX% *.mp4 /MOV /IS >NUL
IF "%ERRORLEVEL%"=="1" GOTO Convertit 
GOTO start


:Convertit
cls
echo -                                			 - 
echo  /////////////////
echo  1 or more Files detected, starting conversion in 3
echo  /////////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls  
echo -                                			 -
echo  /////////////////////////////////////
echo  1 or more Files detected, starting conversion in 2
echo  /////////////////////////////////////  
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265   

timeout /t 1 >NUL
cls   
echo -                                			 -          
echo  ///////////////////////////////////////////////////
echo  1 or more Files detected, starting conversion in 1
echo  ///////////////////////////////////////////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265         
timeout /t 3 >NUL
cls
:::FOR CPU ENCODING::::
for %%a in ("%destX%\*.mxf") do %FFMPEG% -i "%%a" -c:v libx265 -crf 28 -c:a aac -b:a 320k %destY%\%%~na.mp4"
goto MoveOriginalFilestoDone
:::FOR CUDA ENCODING::::
::for %%a in ("%destX%\*.mp4") do %FFMPEG% -hwaccel cuvid -c:v h264_cuvid -i "%%a" -c:v hevc_nvenc -preset veryslow %destY%\%%~na.mkv"


:MoveOriginalFilestoDone
ROBOCOPY %destX% %destZ% *.mp4 /MOV /IS >NUL
GOTO Exit

:Cleanup
cls
echo /////////////////////////////////////////////////////
echo                     Cleaning up...
echo /////////////////////////////////////////////////////
timeout /t 1 >nul
RD %destQ% /S /Q >nul
timeout /t 1 >nul
cls
echo /////////////////////////////////////////////////////
echo                     Cleanup Done !
echo /////////////////////////////////////////////////////
timeout /t 1 >nul
GOTO Exit

:Exit
cls 
echo -                                			 -   
echo  /////////////////
echo  Conversion done, returning to surveillance mode in 5
echo  Converted files stored at %destY%
%SystemRoot%\explorer.exe "%destY%"
echo  Original files moved to %destZ%
echo  /////////////////  
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265  
timeout /t 1 >NUL

cls  
echo -  
echo  /////////////////////////                              			 -   
echo  Conversion done, returning to surveillance mode in 4
echo  Converted files stored at %destY%
echo  Original files moved to %destZ%
echo  /////////////////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265
timeout /t 1 >NUL

cls   
echo -                                			 -  
echo  //////////////////////////////////////
echo  Conversion done, returning to surveillance mode in 3
echo  Converted files stored at %destY%
echo  Original files moved to %destZ%
echo  //////////////////////////////////////        
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265
timeout /t 1 >NUL

cls  
echo -                                			 -     
echo  ///////////////////////////////////////////
echo  Conversion done, returning to surveillance mode in 2
echo  Converted files stored at %destY%
echo  Original files moved to %destZ%
echo  ///////////////////////////////////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 1 >NUL

cls
echo -                                			 - 
echo  ////////////////////////////////////////////////////
echo  Conversion done, returning to surveillance mode in 1
echo  Converted files stored at %destY%
echo  Original files moved to %destZ%
echo  ////////////////////////////////////////////////////
echo -                                			 -                                
echo                              /`:`                
echo                             +Mos:                
echo                             oMMNmso-             
echo                             :MMMMMMMy+/          
echo                            +NMMMMMMMMMd          
echo                          `yMMMMMMMmMMM+          
echo                         -mMMMMMMo` -:`           
echo                        +NMMMMMMMo                
echo                      `yMMMMMMMMMm                
echo                     :NMMMMMMMMMMM`               
echo                   `yMMMMMMMMMMMMM.               
echo                 `sMMMMMMMMMMMMMM+                
echo                :mMMMMMMMMMMMMMM/                 
echo               +MMMMMMMMMMMMMMMM-                 
echo              oMMMMMMMMMMMNshMMM`                 
echo             :MMMMMMMMMMMh  sMMM                  
echo             hMMMMMMMMMMm:  +MMM                  
echo            `mMMMMMMMMh:    :MmM                  
echo   .///////ohs/sMMMMMmhyys/ -Mymdy                
echo   `/osyyso:`  /hhhhhhhhhs  `yhh:      
echo __________________________________________________________   
echo                        FFMPEG WATCHDOG_h265 
timeout /t 2 >NUL

goto start

